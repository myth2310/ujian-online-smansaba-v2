{% extends 'component/base.html' %}

{% block content %}

<div class="page-breadcrumb">
    <div class="row">
        <div class="col-12 d-flex no-block align-items-center">
            <h4 class="page-title">Form Tambah Users</h4>
            <div class="ms-auto text-end">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="#">Home</a></li>
                        <li class="breadcrumb-item active" aria-current="page">Form Tambah Users</li>
                    </ol>
                </nav>
            </div>
        </div>
    </div>
</div>


<div class="container-fluid">
    <div class="row">
        <div class="col-md">
            <div class="card">
                <form action="/insert-user" class="form-horizontal" method="POST">
                    <div class="card-body"> 
                        <div class="row">
                            <div class="col">
                                <div class="form-group">
                                    <label for="hue-demo">Nama Lengkap</label>
                                    <input type="text" id="nama" name="nama" class="form-control demo" data-control="hue"
                                       placeholder="Nama Lengkap" required>
                                </div>
                                <div class="form-group">
                                    <label for="hue-demo">Email</label>
                                    <input type="email"  name="email" class="form-control demo" data-control="hue"
                                       placeholder="Email" required>
                                </div>
                                <div class="form-group">
                                    <label for="hue-demo">Status</label>
                                    <select name="status" class="select2 form-select shadow-none" style="width: 100%; height:36px;" required>
                                        <option selected value="">--- Pilih Status ---</option>
                                        <option value="Aktif" >Aktif</option>
                                        <option value="Tidak Aktif" >Tidak Aktif</option>                 
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="hue-demo">Level</label>
                                    <select name="level" id="level-select" class="select2 form-select shadow-none" style="width: 100%; height:36px;" required>
                                        <option selected value="">--- Pilih Level ---</option>
                                        <option value="Siswa">Siswa</option>
                                        <option value="Guru">Guru</option>                 
                                        <option value="Admin">Admin</option>                 
                                    </select>
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group" id="mata-pelajaran-form" style="display: none;">
                                    <label for="mata-pelajaran">Mata Pelajaran</label>
                                    <select id="mata-pelajaran" name="id_mapel" class="select2 form-select shadow-none" style="width: 100%; height:36px;">
                                        <option selected value="">--- Pilih Mata Pelajaran ---</option>
                                        {% for mapel in mapel %}
                                        <option value="{{mapel.id_mapel}}" >{{mapel.mapel}}</option> 
                                        {% endfor %}                      
                                    </select>
                                </div>                 
                                <div  class="form-group" id="jurusan-form" style="display: none;">
                                    <label for="kelas">Jurusan</label>
                                    <select name="id_jurusan" class="select2 form-select shadow-none" style="width: 100%; height:36px;">
                                        <option selected value="">--- Pilih Jurusan ---</option>
                                        {% for data in jurusan %}
                                        <option value="{{data.id_jurusan}}" >{{data.jurusan}}</option> 
                                        {% endfor %}                      
                                    </select>
                                </div>    
                                <div  class="form-group" id="kelas-form" style="display: none;">
                                    <label for="kelas">Kelas</label>
                                    <select id="kelas" name="id_kelas" class="select2 form-select shadow-none" style="width: 100%; height:36px;">
                                        <option selected value="">--- Pilih Kelas ---</option>
                                        {% for kelas in kelas %}
                                        <option value="{{kelas.id_kelas}}" >{{kelas.kelas}}</option> 
                                        {% endfor %}                      
                                    </select>
                                </div>    
                                            
                                <div class="form-group">
                                    <label for="hue-demo">Password</label>
                                    <input type="password" name="password" class="form-control demo" data-control="hue"
                                       placeholder="Password" required>
                                </div>
                            </div>
                        </div>                         
                    </div>   
                    <div class="border-top">
                        <div class="card-body">
                            <button type="submit" class="btn btn-primary">Simpan</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


<script>
    const levelSelect = document.getElementById("level-select");
    const jurusanSelect = document.getElementById("jurusan-select");
    const mataPelajaranForm = document.getElementById("mata-pelajaran-form");
    const kelasForm = document.getElementById("kelas-form");
    const jurusanForm = document.getElementById("jurusan-form");

    levelSelect.addEventListener("change", function() {
        if (levelSelect.value === "Guru") {
            mataPelajaranForm.style.display = "block";
            kelasForm.style.display = "none";
        } else if (levelSelect.value === "Siswa") {
            mataPelajaranForm.style.display = "none";
            jurusanForm.style.display = "block";
            kelasForm.style.display = "block";
        } else {
            mataPelajaranForm.style.display = "none";
            kelasForm.style.display = "none";
        }
    });

</script>

{% endblock %}
